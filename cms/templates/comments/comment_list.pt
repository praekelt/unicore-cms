<div xmlns:metal="http://xml.zope.org/namespaces/metal"
     metal:define-macro="comment_list"
     class="comments highlight-quaternary"
     tal:condition="exists:comments.state">

  <div tal:condition="comments.state in ('open', 'closed')" tal:omit-tag="">

      <div class="comments-header" i18n:translate="">
        <span tal:replace="comments.total" i18n:name="total" /> comments
      </div>

      <ul class="comment-list">
        <li tal:repeat="comment comments" class="comment">
            <span metal:use-macro="view.comment_template" />
        </li>
      </ul>

      <div class="comments-pagination">
        <a tal:condition="comments.has_previous()"
          tal:define="args comments.get_previous_args()"
          href="${request.route_url('comments', uuid=args['content_uuid'], _query={'c_after': args['after']})}">&lt;&nbsp;<span i18n:translate="" tal:omit-tag="">Previous</span></a>
        <a tal:condition="comments.has_next()"
          tal:define="args comments.get_next_args()"
          href="${request.route_url('comments', uuid=args['content_uuid'], _query={'c_before': args['before']})}"><span i18n:translate="" tal:omit-tag="">Next</span>&nbsp;&gt;</a>
      </div>

  </div>

</div>
