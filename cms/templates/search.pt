<div metal:use-macro="view.global_template">
    <div metal:fill-slot="content">

        <div class="object-category-list modelbase-category-list">
        <div tal:condition="total">Search Results for: <b>${query}</b> (${total} results)</div>
        
        <div class="pagenumbers" tal:condition="page_numbers">
            <a href="/search/?q=${query}&p=${previous_page}" tal:condition="previous_page">&nbsp;&lt;&nbsp;Previous</a>
            <a href="/search/?q=${query}&p=1" tal:condition="need_start">&nbsp;1&nbsp;</a>
            <a tal:condition="need_start_ellipsis">...</a>
            <a href="/search/?q=${query}&p=${number}" tal:repeat="number page_numbers" >&nbsp;${number}&nbsp;</a>
            <a tal:condition="need_end_ellipsis">...</a>
            <a href="/search/?q=${query}&p=${total_pages}" tal:condition="need_end">&nbsp;${total_pages}&nbsp;</a>
            <a href="/search/?q=${query}&p=${next_page}" tal:condition="next_page">&nbsp;Next&nbsp;&gt;</a>
        </div>

        <div class="items">
            <div class="box">

                <div class="item" tal:repeat="result results">
                    <div class="text">

                        <p tal:condition="result.primary_category">${view.get_category(result.primary_category).title}</p>
                        <a href="/content/detail/${result.uuid}/">${result.title} ...</a>
                        <a href="/content/detail/${result.uuid}/">Read More &gt;</a>
                    </div>
                </div>

                <div tal:condition="not results">No results found!</div>

            </div>
        </div>

        </div>
    </div>
</div>
