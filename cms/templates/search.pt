<div metal:use-macro="view.global_template">
    <div metal:fill-slot="content">

        <div class="object-category-list modelbase-category-list">
        <div class="h1">Search Results for: ${query}</div>
        <p>Total number of results ${total}</p>
        
        <a href="/search/?q=${query}&count=${count-10}" tal:condition="python:count>10">Previous</a>
        <a>Page: ${count//10}</a>
        <a href="/search/?q=${query}&count=${count+10}" tal:condition="python:count+10<=(total + (10 - (total % 10)))">Next</a>

        <div class="items">
            <div class="box">
                <div class="item" tal:repeat="result results">
                    <div class="text">

                        <p tal:condition="result.primary_category">${view.get_category(result.primary_category).title}</p>
                        <a href="/content/detail/${result.uuid}/">${result.title}</a>
                    </div>
                </div>

                <div tal:condition="not results">No results found!</div>

            </div>
        </div>
        <a href="/search/?q=${query}&count=${count-10}" tal:condition="python:count>10">Previous</a>
        <a>Page: ${count//10}</a>
        <a href="/search/?q=${query}&count=${count+10}" tal:condition="python:count+10<=(total + (10 - (total % 10)))">Next</a>        
        </div>
    </div>
</div>
