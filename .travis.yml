language: python
python:
  - "2.7"
services:
  - elasticsearch
install:
  - pip install git+git://github.com/smn/elastic-git.git#egg=elastic-git
  - pip install -r requirements-dev.txt --use-wheel
  - pip install -r requirements.txt --use-wheel
  - pip install -e . --use-wheel
script:
  - find ./cms -name '*.py' | xargs pep8
  - find ./cms -name '*.py' | xargs pyflakes
  - py.test cms
after_success:
  - coveralls
